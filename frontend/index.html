<!-- Last opp et klesplagg -->
<form id="upload-form">
  <input type="text" name="name" placeholder="Navn på plagg" required />
  <input type="file" name="file" accept="image/*" required />
  <button>Last opp</button>
</form>

<script>
const API = "http://127.0.0.1:8000";

// Opprett cloth
document.getElementById("upload-form").addEventListener("submit", async (e) => {
  e.preventDefault();
  const fd = new FormData(e.target);
  const res = await fetch(`${API}/clothes/`, { method: "POST", body: fd });
  const data = await res.json();
  console.log("Ny cloth:", data);
});

// Liste alle klær
async function loadClothes() {
  const res = await fetch(`${API}/clothes/`);
  const clothes = await res.json();
  // Render som rutenett (bruk image_url)
  // f.eks: <img src={`${API}${cloth.image_url}`} />
}

// Opprett look
async function createLook(title, clothIds) {
  const res = await fetch(`${API}/looks/`, {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({ title, cloth_ids: clothIds })
  });
  const look = await res.json();
  console.log("Ny look:", look);
}
</script>
