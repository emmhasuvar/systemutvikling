<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Looksy – Last opp</title>

  <link rel="icon" type="image/png" href="/static/show_home/favicon.png">
  <link rel="stylesheet" href="/static/show_upload/style.css">
  <script src="/static/show_upload/script.js" defer></script>
</head>
<body>
  <!-- Top bar -->
  <header class="topbar" role="banner">
    <div class="container topbar__inner">
      <a class="brand" href="/" aria-label="Looksy – Hjem">
        <img src="/static/show_home/logo.jpg" alt="Looksy" height="32">
      </a>
      <button class="menu-toggle" aria-label="Åpne/lukk meny" aria-expanded="false" data-js="menu-toggle">☰</button>
      <nav class="nav" aria-label="Hovedmeny" data-js="nav">
        <a class="nav__link" href="/">Hjem</a>
        <a class="nav__link is-active" href="/upload">Last opp</a>
        <a class="nav__link" href="/looks">Looks</a>
        <a class="button button--primary" href="/clothes">Se klær</a>
      </nav>
    </div>
  </header>

  <main id="content" class="main">
    <section class="intro container">
      <h1>Last opp plagg</h1>
      <p class="muted">Fjern bakgrunn, forhåndsvis og lagre.</p>
    </section>

    <section class="container grid">

      <!-- Upload card -->
      <article class="card">
        <header class="card__header">
          <h2>Last opp bilde</h2>
          <p class="muted">JPG/PNG opptil 10MB</p>
        </header>

        <form id="upload-form" class="form" novalidate>
          <div class="field">
            <label for="name">Navn på plagg</label>
            <input id="name" type="text" name="name" placeholder="F.eks. Blå T-skjorte" required />
          </div>

          <div class="field">
            <label for="category">Kategori</label>
            <select id="category" name="category" required>
              <option value="topp">Topp</option>
              <option value="underdel">Underdel</option>
              <option value="sko">Sko</option>
              <option value="tilbehør">Tilbehør</option>
            </select>
          </div>

          <div class="upload" id="dropzone">
            <input id="file" type="file" name="file" accept="image/*" required />
            <div class="upload__inner">
              <div class="upload__icon">⬆️</div>
              <p><strong>Dra og slipp</strong> eller <span class="link">velg fil</span></p>
              <small class="muted">Støttede formater: JPG, PNG</small>
            </div>
          </div>

          <div class="actions">
            <button id="process-btn" type="button" class="button button--primary">Kjør bakgrunnsfjerner</button>
            <button id="reset-btn" type="button" class="button button--ghost">Nullstill</button>
          </div>
        </form>
      </article>

      <!-- Result card -->
      <article class="card" id="result" class="hidden">
        <header class="card__header">
          <h2>Forhåndsvisning</h2>
          <p class="muted">Sjekk resultatet før lagring</p>
        </header>

        <img id="preview" alt="Forhåndsvisning" class="preview" />
        <div class="actions">
          <button id="save-btn" type="button" class="button button--primary">Lagre i database</button>
        </div>
        <p id="status" class="muted"></p>
      </article>
    </section>
  </main>

  <!-- Tiny JS for mobile nav (page-local) -->
  <script>
    (function () {
      const toggle = document.querySelector('[data-js="menu-toggle"]');
      const nav = document.querySelector('[data-js="nav"]');
      if (!toggle || !nav) return;
      toggle.addEventListener('click', () => {
        const open = nav.classList.toggle('nav--open');
        toggle.setAttribute('aria-expanded', String(open));
      });
    })();
  </script>
</body>
</html>
