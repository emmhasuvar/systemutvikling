<!doctype html>
<html lang="no">
  <head>
    <meta charset="utf-8" />
    <title>Looksy – Lag Looks</title>

    <!-- Felles stil -->
    <link rel="stylesheet" href="/static/show_clothes/style.css" />
    <link rel="icon" type="image/png" href="/static/show_home/favicon.png">

    <!-- Side-spesifikk -->
    <link rel="stylesheet" href="/static/show_lag_looks/style.css" />
    <script src="/static/show_lag_looks/script.js" defer></script>
  </head>

  <body>
    <!-- TOPPBAR -->
    <header class="topbar" role="banner">
      <div class="container topbar__inner">
        <a class="brand" href="/" aria-label="Looksy – Hjem">
          <img src="/static/show_home/logo.jpg" alt="Looksy" height="32">
        </a>
        <button class="menu-toggle" aria-label="Åpne/lukk meny" aria-expanded="false" data-js="menu-toggle">☰</button>
        <nav class="nav" aria-label="Hovedmeny" data-js="nav">
          <a class="nav__link" href="/">Hjem</a>
          <a class="nav__link" href="/upload">Last opp</a>
          <a class="nav__link" href="/looks">Looks</a>
          <a class="button button--primary is-active" href="/clothes">Se klær</a>
        </nav>
      </div>
    </header>

    <!-- INNHOLD -->
    <div class="container looks">
      <h1 class="looks__title">Lag Looks</h1>
      <p class="looks__lead">Dra plagg inn på canvaset, arranger og lagre som JPG.</p>

      <!-- FILTER-BAR -->
      <div class="filters" id="category-filters"
           style="display:flex; gap:.5rem; flex-wrap:wrap; margin:0 0 1rem;">
        <button class="chip is-active" data-category="">Alle</button>
        <button class="chip" data-category="topp">Topper</button>
        <button class="chip" data-category="underdel">Underdeler</button>
        <button class="chip" data-category="sko">Sko</button>
        <button class="chip" data-category="tilbehør">Tilbehør</button>
      </div>

      <!-- VERKTØYLINJE -->
      <div class="looks__toolbar">
        <label for="title" class="looks__label">Tittel:</label>
        <input id="title" type="text" class="looks__input" placeholder="Casual fredag" />
        <button id="btnClear" class="looks__btn">Tøm canvas</button>
        <button id="btnSave" class="looks__btn looks__btn--primary">Lagre som JPG</button>
        <span class="looks__hint">
          Tips: Hold <kbd class="looks__kbd">Shift</kbd> for å skalere,
          <kbd class="looks__kbd">⌫</kbd> for å slette valgt.
        </span>
      </div>

      <!-- LAYOUT -->
      <main class="looks__layout">
        <aside id="sidebar" class="looks__sidebar" aria-label="Dine plagg">
          <div class="looks__sidebarHeader">Dine plagg</div>
          <div id="clothesList" class="looks__list"></div>
        </aside>

        <section id="stageWrap" class="looks__stageWrap" aria-label="Canvas">
          <canvas id="stage" class="looks__stage"></canvas>
          <div id="hint" class="looks__stageHint">Dra plagg hit</div>
        </section>
      </main>
    </div>

    <!-- Mini-script for mobilmeny -->
    <script>
      (function () {
        const toggle = document.querySelector('[data-js="menu-toggle"]');
        const nav = document.querySelector('[data-js="nav"]');
        if (!toggle || !nav) return;
        toggle.addEventListener('click', () => {
          const open = nav.classList.toggle('nav--open');
          toggle.setAttribute('aria-expanded', String(open));
        });
      })();
    </script>
  </body>
</html>
